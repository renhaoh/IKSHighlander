<style>
td,th{border-bottom: 1px solid #f8f2ff; border-left: 1px solid #f8f2ff;}
tr:nth-child(odd) {background-color: #f2e2ff;}
tr:hover {background-color: #fffcef}
</style>
<div data-extend-template="/html/base.html">
	<div data-block-append="content">
		<div class="container" style="overflow: auto;">
			<br/>
			<form>
        <div class="input-field">
          <input id="search" type="search" placeholder="Search for responses" ng-model="search" required>
          <label for="search"><i class="material-icons">search</i></label>
          <i class="material-icons">close</i>
        </div>
      </form>
      <div class="fixed-action-btn">
      <a class="btn-floating btn-large waves-effect waves-light red"><i class="material-icons" ng-click="responses_to_tsv()">cloud_download</i></a>
      </div>
      <div class="fixed-action-btn" style="margin-right: 75px;">
      <a class="btn-floating btn-large waves-effect waves-light red modal-trigger" href="#modalupload" modal><i class="material-icons">cloud_upload</i></a>
      </div>
			<table class="table" style="width: 100%; font-size: 12px; border: 5px black;">
				<tbody style="display: block; height: 600px; overflow: auto;">
					<tr style="background-color: #6200b2; color:white; font-size: 15px">
						<th>Time</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'student_id'; sort_reverse = !(sort_reverse);">Student ID
								<span ng-show="sort_type == 'student_id' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'student_id' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'grade_level'; sort_reverse = !(sort_reverse)">Grade
								<span ng-show="sort_type == 'grade_level' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'grade_level' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'mission'; sort_reverse = !(sort_reverse)">Mission
								<span ng-show="sort_type == 'mission' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'mission' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Mission Favorite</th>
						<th>Easiest</th>
						<th>Difficult</th>
						<th>Improvements</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'communicate_score'; sort_reverse = !(sort_reverse)">Communication Score
								<span ng-show="sort_type == 'communicate_score' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'communicate_score' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'communicate_score_others'; sort_reverse = !(sort_reverse)">Communication With Others
								<span ng-show="sort_type == 'communicate_score_others' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'communicate_score_others' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'trust_others'; sort_reverse = !(sort_reverse)">Trust Others
								<span ng-show="sort_type == 'trust_others' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'trust_others' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Trust Examples</th>
						<th>Problem Solve Skills</th>
						<th>Create Solution</th>
						<th>Personality Traits</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'teamwork_comp_rate'; sort_reverse = !(sort_reverse)">Teamwork Comp Rate
								<span ng-show="sort_type == 'teamwork_comp_rate' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'teamwork_comp_rate' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_first_choice'; sort_reverse = !(sort_reverse)">Job First Choice
								<span ng-show="sort_type == 'job_first_choice' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_first_choice' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_first_choice_get'; sort_reverse = !(sort_reverse)">Job First Choice Get
								<span ng-show="sort_type == 'job_first_choice_get' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_first_choice_get' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_first_choice_learn'; sort_reverse = !(sort_reverse)">Job First Choice Learn
								<span ng-show="sort_type == 'job_first_choice_learn' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_first_choice_learn' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Job First Choice Learn Why</th>
						<th>Job First Choice Other Roles</th>
						<th>Job First Choice Skills</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_first_choice_pressure'; sort_reverse = !(sort_reverse)">Job First Choice Pressure
								<span ng-show="sort_type == 'job_first_choice_pressure' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_first_choice_pressure' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Job First Choice Pressure Why</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_first_choice_critical'; sort_reverse = !(sort_reverse)">Job First Choice Critical
								<span ng-show="sort_type == 'job_first_choice_critical' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_first_choice_critical' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Job First Choice Critical Why</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_second_choice_affect'; sort_reverse = !(sort_reverse)">Job Second Choice Affect
								<span ng-show="sort_type == 'job_second_choice_affect' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_second_choice_affect' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Job Second Choice Affect Why</th>
						<th>Job Second Choice Other Roles</th>
						<th>Job Second Choice Skills</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_second_choice_pressure'; sort_reverse = !(sort_reverse)">Job Second Choice Pressure
								<span ng-show="sort_type == 'job_second_choice_pressure' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_second_choice_pressure' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Job Second Choice Pressure Why</th>
						<th>
							<a href="/#/post_survey" ng-click="sort_type = 'job_second_choice_critical'; sort_reverse = !(sort_reverse)">Job Second Choice Affect
								<span ng-show="sort_type == 'job_second_choice_critical' && sort_reverse" class="material-icons">expand_more</span>
								<span ng-show="sort_type == 'job_second_choice_critical' && !(sort_reverse)" class="material-icons">expand_less</span>
							</a>
						</th>
						<th>Job Second Choice Critical Why</th>
						<th>Examples Tie Class</th>
						<th>Something New</th>
					</tr>

					<tr ng-repeat="res in responses | orderBy:sort_type:sort_reverse" ng-if="in_search(res);">
						<td>{{res.time}}</td>
						<td>{{res.student_id}}</td>
						<td>{{res.grade_level}}</td>
						<td>{{res.mission}}</td>
						<td>{{res.mission_favorite}}</td>
						<td>{{res.easiest}}</td>
						<td>{{res.most_difficult}}</td>
						<td>{{res.improve_suggestion}}</td>
						<td>{{res.communicate_score}}</td>
						<td>{{res.communicate_score_others}}</td>
						<td>{{res.trust_others}}</td>
						<td>{{res.trust_examples}}</td>
						<td>{{res.problem_solve_skills}}</td>
						<td>{{res.create_solution}}</td>
						<td>{{res.personality_traits}}</td>
						<td>{{res.teamwork_comp_rate}}</td>
						<td>{{res.job_first_choice}}</td>
						<td>{{res.job_first_choice_get}}</td>
						<td>{{res.job_first_choice_learn}}</td>
						<td>{{res.job_first_choice_learn_why}}</td>
						<td>{{res.job_first_choice_other_roles}}</td>
						<td>{{res.job_first_choice_skills}}</td>
						<td>{{res.job_first_choice_pressure}}</td>
						<td>{{res.job_first_choice_pressure_why}}</td>
						<td>{{res.job_first_choice_critical}}</td>
						<td>{{res.job_first_choice_critical_why}}</td>
						<td>{{res.job_second_choice_affect}}</td>
						<td>{{res.job_second_choice_affect_why}}</td>
						<td>{{res.job_second_choice_other_roles}}</td>
						<td>{{res.job_second_choice_skills}}</td>
						<td>{{res.job_second_choice_pressure}}</td>
						<td>{{res.job_second_choice_pressure_why}}</td>
						<td>{{res.job_second_choice_critical}}</td>
						<td>{{res.job_second_choice_critical_why}}</td>
						<td>{{res.examples_tie_class}}</td>
						<td>{{res.something_new}}</td>
					</tr>
				</tbody>
			</table>
			<div id="modalupload" class="modal">
		    <div class="modal-content">
		      <h4>Upload Student Data</h4>
		      <p>From the Google Sheets spreadsheet for post-student responses, navigate to 'Download As' and select Tab-separated values ('.tsv'). Upload that file here!</p>
		    </div>
				<div class="file-field input-field" style="padding-left: 29px; padding-right: 29px">
          <div class="btn blue">
            <span>Browse</span>
            <input id="csv_input" type="file" accept=".tsv">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text">
          </div>
	       </div>
		    <div class="modal-footer">
		      <a class="modal-action modal-close waves-effect waves-green btn-flat" ng-click="reload_responses()">Submit</a>
		    </div>
		  </div>
		</div>
	</div>
</div>